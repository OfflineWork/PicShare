<!DOCTYPE html>

<html lang="en">
    <head>
        <title>PicShare: Login</title>
        <link rel="stylesheet" href="login.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="no-cache" />
    </head>

    <script>
    // Function to get a parameter value from the URL query string
    function getParameterByName(name) {
        var urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
    }

    // Function to show or hide the div based on the parameter value from the URL
    function toggleDivVisibility() {
        var paramValue = getParameterByName('loginFail'); // Replace 'paramName' with your parameter name
        var myDiv = document.getElementById('failDiv');
        if (paramValue === 'invalid') {
            myDiv.style.display = 'block'; // Show the div
            document.getElementById("text").innerText = "Invalid Username or Password"
        } else if(paramValue === 'notfound') {
            myDiv.style.display = 'block';
            document.getElementById("text").innerText = "User could not be found."
        }
    }

    // Call the toggleDivVisibility function when the page loads
    window.onload = function() {
        toggleDivVisibility();
    };
    </script>

    <body>
        <div class="container">
            <h2 class="signupTitle">Welcome to PicShare!</h2>
            <form action="login.php" method="post">
                <p>Username</p>
                <input type="text" name="usr" id="Username" class="forminput">
                <p>Password</p>
                <input type="password" name="psw" id="Password" class="forminput">
                <br>
                <input type="submit" value="Signup" class="subBtn">
                <br>
            </form>
            <a href="/instacopy/registration/register.html" class="subBtn">Register instead!</a>
        </div>
        <br>
        <div class="failDiv" id="failDiv" style="display: none;">
            <p id="text">Nil</p>
        </div>
    </body>
</html>